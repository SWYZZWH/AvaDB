# drop table
{"type": "sql", "drop": {"table_name": "test_cli"}}

# create table
{"type": "sql", "create": {"table_name": "test_cli", "fields": [{"col1": "int"}, {"col2": "str"}]}}

# insert
{"type":"sql", "insert": {"table_name": "test_cli", "records": [{"col1": 1, "col2": "a"}, {"col1": 3, "col2": "a"}, {"col1": 1, "col2": "b"}, {"col1": 2, "col2": "b"}, {"col1": 1, "col2": "c"}, {"col1": 1, "col2": "c"}]}}

# delete (1, a)
{"type":"sql", "delete": {"table_name": "test_cli", "expr": {"op":"&&","v1":{"op":"==","v1":"0::col1","v2":1},"v2":{"op":"==","v1":"0::col2","v2":"a"}}}}

# select (get all records)
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":">","v1":"0::col1","v2":-100}}}

# insert (1, a) back
{"type":"sql", "insert": {"table_name": "test_cli", "records": [{"col1": 1, "col2": "a"}]}}

# select (get all records)
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":">","v1":"0::col1","v2":-100}}}

# projection (get all records)
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":">","v1":"0::col1","v2":-100}, "desired_columns": ["::col2"]}}

# select (should return (2, b))
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":"&&","v1":{"op":">","v1":"0::col1","v2":1},"v2":{"op":"==","v1":"0::col2","v2":"b"}}}}

# update record (2, b) -> (10, b)
{"type":"sql","update":{"table_name":"test_cli","expr":{"op":"&&","v1":{"op":">","v1":"0::col1","v2":1},"v2":{"op":"==","v1":"0::col2","v2":"b"}}, "record": {"col1": 10, "col2": "b"}}}

# select (should return (10, b))
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":"&&","v1":{"op":"==","v1":"0::col1","v2":10},"v2":{"op":"==","v1":"0::col2","v2":"b"}}}}

# group by col2 & aggregation
{"type":"sql","query":{"src_table":"test_cli","desired_columns":["::col2","::col1__MAX","::col1__MIN","::col1__COUNT","::col1__SUM","::col1__AVG"],"group_by":["::col2"]}}

# sorting
{"type":"sql","query":{"src_table":"test_cli","order_by":[{"column":"::col1","is_asc":true}]}}
{"type":"sql","query":{"src_table":"test_cli","order_by":[{"column":"::col2","is_asc":false}]}}

# join
{"type": "sql", "drop": {"table_name": "test_cli_2"}}
{"type": "sql", "create": {"table_name": "test_cli_2", "fields": [{"col3": "int"}, {"col2": "str"}]}}
{"type":"sql", "insert": {"table_name": "test_cli_2", "records": [{"col3": 5, "col2": "a"}, {"col3": 6, "col2": "b"}]}}
{"type":"sql","query":{"src_table":{"t1":"test_cli","t2":"test_cli_2","join_type":"outer","join_condition":{"op":"==","v1":"0::col2","v2":"0::col2"}},"desired_columns":["::0::col1","::0::col2","::1::col2","::1::col3"]}}

# drop table
{"type": "sql", "drop": {"table_name": "test_cli"}}

# select (get all records, no results)
{"type":"sql","query":{"src_table":"test_cli","row_filter":{"op":">","v1":"0::col1","v2":-100}}}

